"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sampleStoryUrl=exports.htmlTemplate=exports.replaceFieldsWithSampleData=exports.availableFields=exports.sampleStory=void 0;var sampleStory={feedName:"Google",feedStartDate:"March 14, 2020",feedendDate:"March 16, 2020",storyTitle:"Legislative Tracker Sounds Alarm on Anti-Transparency Bills",storyDate:"March 15, 2020",summaryBullets:["To open government advocates, the effort to hide Louisville's bid was an outrage that soon got worse: A House committee approved the bill with an amendment barring residents outside Kentucky from obtaining public records on any subject.","Advocates like her in all 50 states are getting a new tool to help identify legislation like the Amazon bill that affect the public’s right to know — and give a glimpse of what's happening across the country.","The National Freedom of Information Coalition is launching a bill tracker that aims to find, in real-time, all pieces of legislation that affect government transparency in state legislatures.","Daniel Bevarly, the coalition’s executive director, said tracking such bills is challenging because only a few states, such as Florida and Maine, require such legislation to state up-front that they would affect government transparency.","The program uses software from Quorum, a Washington D. C.-based technology company, that scrapes the raw text of bills from all 50 state legislative websites once or more a day."],articles:[{articleTitle:"Legislative Tracker Sounds Alarm on Anti-Transparency Bills",articleUrl:"https://www.ksat.com/news/politics/2020/03/10/legislative-tracker-sounds-alarm-on-anti-transparency-bills/",articleDate:"March 15, 2020",articleSource:"KSAT"},{articleTitle:"Reuters Legislative Tracker",articleUrl:"https://www.reuters.com/news/politics/2020/03/10/legislative-tracker-sounds-alarm-on-anti-transparency-bills/",articleDate:"March 16, 2020",articleSource:"Reuters"},{articleTitle:"AP Legislative Tracker",articleUrl:"https://www.ap.com/news/politics/2020/03/10/legislative-tracker-sounds-alarm-on-anti-transparency-bills/",articleDate:"March 18, 2020",articleSource:"AP"}]};exports.sampleStory=sampleStory;var availableFields=["feedName","feedStartDate","feedEndDate","storyTitle","storyDate","summaryBullets","articleTitle","articleUrl","articleDate","articleSource","articlesCount","sourcesSection"];exports.availableFields=availableFields;var replaceSourceFieldsWithArticleData=function(e,t){var a=e;return a=(a=(a=(a=(a=a.replace(/\b(articleUrl)\b/g,t.articleUrl)).replace(/\b(articleTitle)\b/g,t.articleTitle)).replace(/\b(articleDate)\b/g,t.articleDate)).replace(/\b(articleSource)\b/g,t.articleSource)).replace(/\b(sourcesCount)\b/g,"1")},replaceFieldsWithSampleData=function(e,t){var a=0<arguments.length&&void 0!==e?e:"",l=1<arguments.length?t:void 0,r=a.replace(/(\s{2,}|\n|\t)/g," "),i="",s=r.match(/\<ul\> \<li\>summaryBullets\<\/li\> <\/ul\>/),o=r.match(/\<ol\> \<li\>summaryBullets\<\/li\> <\/ol\>/);return["Sources","Sources (articlesCount article)"].map(function(e){return 0<a.indexOf(e)&&(i=a.replace(/(\s{2,}|\n|\t)/g," ").split(e)[1]),e}),i&&(l.articles.map(function(e){var t=replaceSourceFieldsWithArticleData(i,e);return r+=t,e}),r=r.replace(i,""),console.log("output.match(sourcesTemplate)",r.match(i))),r=r.replace(/\bfeedName\b/g,l.feedName).replace(/\bfeedStartDate\b/g,l.feedStartDate).replace(/\bfeedEndDate\b/g,l.feedendDate).replace(/\bstoryTitle\b/g,l.storyTitle).replace(/\bstoryDate\b/g,l.storyDate).replace(/\bsummaryBullet1\b/g,l.summaryBullets[0]).replace(/\bsummaryBullet2\b/g,l.summaryBullets[1]).replace(/\bsummaryBullet3\b/g,l.summaryBullets[2]).replace(/\bsummaryBullet4\b/g,l.summaryBullets[3]).replace(/\bsummaryBullet5\b/g,l.summaryBullets[4]),r=(r=(r=s?r.replace(/\<ul\> \<li\>summaryBullets\<\/li\> <\/ul\>/,"<ul>".concat(l.summaryBullets.map(function(e){return"<li>".concat(e,"</li>")}).join("\n"),"</ul>")):o?r.replace(/\<ol\> \<li\>summaryBullets\<\/li\> <\/ol\>/,"<ol>".concat(l.summaryBullets.map(function(e){return"<li>".concat(e,"</li>")}).join("\n"),"</ol>")):r.replace(/\bsummaryBullets\b/,"<ul>".concat(l.summaryBullets.map(function(e){return"<li>".concat(e,"</li>")}).join("\n"),"</ul>"))).replace(/(<a href=)/g,"<a ref='noopener noreferer' target='_blank' href=")).replace(/\b(articlesCount article)\b/g,0<l.articles.length?"".concat(l.articles.length," articles"):"".concat(l.articles.length," article"))};exports.replaceFieldsWithSampleData=replaceFieldsWithSampleData;var htmlTemplate='\n  <p>Feed: feedName</p>\n  <p><br></p>\n  <p>feedStartDate - feedEndDate</p>\n  <p><br></p>\n  <p>storyTitle</p>\n  <p>storyDate</p>\n  <p><br></p>\n  <p>Summary:</p>\n  <ul>\n    <li>summaryBullet1</li>\n    <li>summaryBullet2</li>\n    <li>summaryBullet3</li>\n    <li>summaryBullet4</li>\n    <li>summaryBullet5</li>\n  </ul>\n  <p><br></p>\n  <p>Sources (articlesCount article)</p>\n  <p><strong><a ref="noopener noreferer" target="_blank" href="articleUrl">articleTitle</a></strong></p>\n  <p>articleDate</p>\n  <p><a ref="noopener noreferer" target="_blank" href="articleUrl">articleUrl</a></p>\n  <p>articleDate | [sourcesCount] articleSource</p>\n';exports.htmlTemplate=htmlTemplate;var sampleStoryUrl="https://app.acuity.agolo.com/feed/5e6dfdfb48ea10000191e397/summary/5e6dfe146b08de149041cea9?collapseSider=false";exports.sampleStoryUrl=sampleStoryUrl;